/*!
 * @license lightsaber v1.1.0
 * (c) 2015 sugarshin https://github.com/sugarshin
 * License: MIT
 */
!function t(n,e,r){function o(s,u){if(!e[s]){if(!n[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var c=e[s]={exports:{}};n[s][0].call(c.exports,function(t){var e=n[s][1][t];return o(e?e:t)},c,c.exports,t,n,e,r)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t){var n,e;n=t("./lightsaber"),e=new n(["start.mp3","slow.mp3","normal.mp3","clash.mp3","stop.mp3"],document.getElementById("start"))},{"./lightsaber":4}],2:[function(t,n){/*!
 * @license coffee-mixin v2.1.0
 * (c) 2014 sugarshin https://github.com/sugarshin
 * License: MIT
 */
var e,r={}.hasOwnProperty;n.exports=e=function(){function t(){}return t.inheritance=function(t,n){var e,o;for(o in n)r.call(n,o)&&(t[o]=n[o]);return e=function(){this.constructor=t},e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},t.extend=function(t,n){var e,o;for(e in n)r.call(n,e)&&(o=n[e],t[e]=o);return this},t.include=function(t,n){var e,o;for(e in n)r.call(n,e)&&(o=n[e],t.prototype[e]=o);return this},t}()},{}],3:[function(t,n){var e;n.exports=e=function(){function t(t,n,e){this.context=t,this.urlList=n,this.onload=e,this.bufferList=[],this.loadCount=0}return t.prototype.loadBuffer=function(t,n){var e;return e=new XMLHttpRequest,e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(r){return function(){return r.context.decodeAudioData(e.response,function(e){return e||console.error(t),r.bufferList[n]=e,++r.loadCount===r.urlList.length&&"function"==typeof r.onload?r.onload(r.bufferList):void 0},function(t){return console.error(t)})}}(this),e.onerror=function(){return console.error("error")},e.send()},t.prototype.load=function(){var t,n;for(t=0,n=[];t<this.urlList.length;)this.loadBuffer(this.urlList[t],t),n.push(++t);return n},t}()},{}],4:[function(t,n){var e,r,o,i,s=function(t,n){return function(){return t.apply(n,arguments)}};o=t("../../coffee-mixin/dest/mixin"),i=t("./utility"),e=t("./bufferloader"),n.exports=r=function(){function t(t,r){this.shake=s(this.shake,this),this.startBtn=r,this.context=new n,this.bufferLoader=new e(this.context,t),this.bufferLoader.load(),this.isPlaying=!1,this.isStart=!1,this.events()}var n;return o.include(t,i),n=window.AudioContext||window.webkitAudioContext,t.prototype.soundPlay=function(t,n){return this.source=this.context.createBufferSource(),this.gainNode=this.context.createGain(),this.source.buffer=t,this.source.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.gainNode.gain.value=null!=n?n:0,this.isStart===!1&&this.source.start(0),this.isPlaying===!1&&this.isStart===!0?(this.source.start(0),this.isPlaying=!0,this.source.onended=function(t){return function(){return t.isPlaying=!1}}(this)):void 0},t.prototype.shake=function(t){var n,e,r,o;return n=t.accelerationIncludingGravity,20>(e=n.x)&&e>15||20>(r=n.y)&&r>15||20>(o=n.z)&&o>15?this.soundPlay(this.bufferLoader.bufferList[2],1):n.x>30||n.y>30||n.z>30?this.soundPlay(this.bufferLoader.bufferList[3],1):void 0},t.prototype.start=function(){return this.soundPlay(this.bufferLoader.bufferList[0],1),this.addMotionEvent(),this.isStart=!0,document.getElementById("sword").style.display="block"},t.prototype.end=function(){return this.soundPlay(this.bufferLoader.bufferList[4],1),this.rmMotionEvent(),this.isStart=!1,document.getElementById("sword").style.display="none"},t.prototype.toggle=function(){return this.isStart===!1?this.start():this.end()},t.prototype.events=function(){return this.addEvent(this.startBtn,"click",function(t){return function(){return t.toggle()}}(this))},t.prototype.addMotionEvent=function(){return this.addEvent(window,"devicemotion",this.shake)},t.prototype.rmMotionEvent=function(){return this.rmEvent(window,"devicemotion",this.shake)},t}()},{"../../coffee-mixin/dest/mixin":2,"./bufferloader":3,"./utility":5}],5:[function(t,n){var e;n.exports=e=function(){function t(){}return t.addEvent=function(t,n,e){return t.addEventListener(n,e)},t.rmEvent=function(t,n,e){return t.removeEventListener(n,e)},t}()},{}]},{},[1]);