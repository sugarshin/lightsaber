/*!
 * @license lightsaber v0.0.2
 * (c) 2014 sugarshin https://github.com/sugarshin
 * License: MIT
 */
(function(){var t,n;t=function(){function t(t,n,e){this.context=t,this.urlList=n,this.onload=e,this.bufferList=[],this.loadCount=0}return t.prototype.loadBuffer=function(t,n){var e;return e=new XMLHttpRequest,e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(r){return function(){return r.context.decodeAudioData(e.response,function(e){return e||console.error(t),r.bufferList[n]=e,++r.loadCount===r.urlList.length&&"function"==typeof r.onload?r.onload(r.bufferList):void 0},function(t){return console.error(t)})}}(this),e.onerror=function(){return console.error("error")},e.send()},t.prototype.load=function(){var t,n;for(t=0,n=[];t<this.urlList.length;)this.loadBuffer(this.urlList[t],t),n.push(++t);return n},t}(),n=function(){function n(n,r){this.startBtn=r,this.context=new e,this.bufferLoader=new t(this.context,[n]),this.bufferLoader.load(),this.events()}var e;return e=window.AudioContext||window.webkitAudioContext,n.prototype.play=function(t,n){var e,r;return r=this.context.createBufferSource(),e=this.context.createGain(),r.buffer=t,r.connect(e),e.connect(this.context.destination),e.gain.value=null!=n?n:0,r.start(0)},n.prototype.rm=function(t){return t.parentNode.removeChild(t)},n.prototype.events=function(){return window.addEventListener("devicemotion",function(t){return function(n){var e;return e=n.accelerationIncludingGravity,e.x>20||e.y>20||e.z>20?t.play(t.bufferLoader.bufferList[0],1):void 0}}(this)),this.startBtn.addEventListener("click",function(t){return function(){return t.play(t.bufferLoader.bufferList[0]),t.rm(t.startBtn)}}(this))},n}(),window.Lightsaber||(window.Lightsaber=n)}).call(this);